(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dashboard"],{"166f":function(a,e,t){},4601:function(a,e,t){"use strict";t.r(e);var i=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"bg-login"},[t("div",{staticClass:"opacity-login"},[t("div",{staticClass:"login"},[t("i",{staticClass:"fas fa-user-alt login-icon"}),t("div",{staticClass:"login-title"},[a._v("MEMBER UPDATE")]),t("div",{staticClass:"login-name"},[a._v("手機號碼")]),t("div",{staticClass:"login-item"},[t("div",{staticClass:"login-item-flex",class:{error:a.errors.has("phone")}},[a._m(0),t("input",{directives:[{name:"model",rawName:"v-model",value:a.account.phone,expression:"account.phone"},{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],staticClass:"login-item-flex-input",attrs:{type:"text",placeholder:"Phone","data-vv-as":"電話號碼",name:"phone"},domProps:{value:a.account.phone},on:{input:function(e){e.target.composing||a.$set(a.account,"phone",e.target.value)}}})]),a.errors.has("phone")?t("div",{staticClass:"login-item-error"},[a._v("電話號碼必須為數字")]):a._e()]),t("div",{staticClass:"login-name"},[a._v("姓名")]),t("div",{staticClass:"login-item"},[t("div",{staticClass:"login-item-flex",class:{error:a.errors.has("name")}},[a._m(1),t("input",{directives:[{name:"model",rawName:"v-model",value:a.account.name,expression:"account.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"login-item-flex-input",attrs:{type:"text",placeholder:"Name","data-vv-as":"名字",name:"name"},domProps:{value:a.account.name},on:{input:function(e){e.target.composing||a.$set(a.account,"name",e.target.value)}}})]),a.errors.has("name")?t("div",{staticClass:"login-item-error"},[a._v("名字為必填")]):a._e()]),t("div",{staticClass:"login-name"},[a._v("照片上傳區")]),t("div",{ref:"upload",staticClass:"upload"},[t("div",{staticClass:"upload-region",class:{"upload-region-error":a.errors.has("image")}},[t("input",{directives:[{name:"validate",rawName:"v-validate",value:"image",expression:"'image'"}],ref:"upload-region-file",staticClass:"upload-region-file",attrs:{type:"file","data-vv-as":"圖片",name:"image"},on:{change:function(e){return a.fileHandler(e)}}}),t("i",{staticClass:"fas fa-cloud-upload-alt"}),t("div",{staticClass:"upload-region-describe"},[a._v(a._s(a.file))])]),a.errors.has("image")?t("div",{staticClass:"login-item-error"},[a._v("必須上傳圖片檔")]):a._e(),t("img",{staticClass:"upload-img",attrs:{src:a.account.img,alt:""}})]),t("button",{staticClass:"login-update",attrs:{type:"button"},on:{click:function(e){return a.updateUser()}}},[a._v("確認修改")])])])])},s=[function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"login-item-flex-icon"},[t("i",{staticClass:"fas fa-mobile-alt"})])},function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"login-item-flex-icon"},[t("i",{staticClass:"fas fa-file-signature"})])}],n=(t("7f7f"),{data:function(){return{file:"click here to choose image!",account:{img:"",phone:"",name:""}}},methods:{updateUser:function(){var a=this;this.$validator.validate().then(function(e){if(e){a.$bus.$emit("isLoading",!0);var t=new FormData,i=a.$refs["upload-region-file"].files[0];i&&t.append("userpic",i),t.append("phone",a.account.phone),t.append("name",a.account.name),a.$http.post("".concat("https://guarded-castle-26873.herokuapp.com","/users/update"),t,{headers:{"Content-type":"multipart/form-data"}}).then(function(e){e.data.success&&(a.$bus.$emit("refreshSignin"),a.$router.push("/")),a.$bus.$emit("isLoading",!1)})}})},fileHandler:function(a){var e=this;if(a.currentTarget.value){this.file=a.currentTarget.value;var t=new FileReader;t.readAsDataURL(a.currentTarget.files[0]),t.onload=function(a){e.account.img=a.currentTarget.result}}}},mounted:function(){var a=this;this.$bus.$emit("isLoading",!0),this.$http.get("".concat("https://guarded-castle-26873.herokuapp.com","/users/isSignin")).then(function(e){e.data.success&&(a.account=e.data),a.$bus.$emit("isLoading",!1)})}}),r=n,o=(t("aa91"),t("2877")),c=Object(o["a"])(r,i,s,!1,null,"1597c045",null);e["default"]=c.exports},"7f7f":function(a,e,t){var i=t("86cc").f,s=Function.prototype,n=/^\s*function ([^ (]*)/,r="name";r in s||t("9e1e")&&i(s,r,{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(a){return""}}})},aa91:function(a,e,t){"use strict";var i=t("166f"),s=t.n(i);s.a}}]);
//# sourceMappingURL=dashboard.519de62d.js.map