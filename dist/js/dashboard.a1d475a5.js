(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dashboard"],{"089f":function(e,a,t){"use strict";var i=t("149c"),s=t.n(i);s.a},"149c":function(e,a,t){},4601:function(e,a,t){"use strict";t.r(a);var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"bg-login"},[t("div",{staticClass:"opacity-login"},[t("div",{staticClass:"login"},[t("i",{staticClass:"fas fa-user-alt login-icon"}),t("div",{staticClass:"login-title"},[e._v("MEMBER UPDATE")]),t("div",{staticClass:"login-item"},[t("div",{staticClass:"login-item-flex",class:{error:e.errors.has("phone")}},[e._m(0),t("input",{directives:[{name:"model",rawName:"v-model",value:e.account.phone,expression:"account.phone"},{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],staticClass:"login-item-flex-input",attrs:{type:"text",placeholder:"Phone","data-vv-as":"電話號碼",name:"phone"},domProps:{value:e.account.phone},on:{input:function(a){a.target.composing||e.$set(e.account,"phone",a.target.value)}}})]),e.errors.has("phone")?t("div",{staticClass:"login-item-error"},[e._v("電話號碼必須為數字")]):e._e()]),t("div",{staticClass:"login-item"},[t("div",{staticClass:"login-item-flex",class:{error:e.errors.has("name")}},[e._m(1),t("input",{directives:[{name:"model",rawName:"v-model",value:e.account.name,expression:"account.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"login-item-flex-input",attrs:{type:"text",placeholder:"Name","data-vv-as":"名字",name:"name"},domProps:{value:e.account.name},on:{input:function(a){a.target.composing||e.$set(e.account,"name",a.target.value)}}})]),e.errors.has("name")?t("div",{staticClass:"login-item-error"},[e._v("名字為必填")]):e._e()]),t("div",{ref:"upload",staticClass:"upload"},[t("div",{staticClass:"upload-region",class:{"upload-region-error":e.errors.has("image")}},[t("input",{directives:[{name:"validate",rawName:"v-validate",value:"image",expression:"'image'"}],ref:"upload-region-file",staticClass:"upload-region-file",attrs:{type:"file","data-vv-as":"圖片",name:"image"},on:{change:function(a){return e.fileHandler(a)}}}),t("i",{staticClass:"fas fa-cloud-upload-alt"}),t("div",{staticClass:"upload-region-describe"},[e._v(e._s(e.file))])]),e.errors.has("image")?t("div",{staticClass:"login-item-error"},[e._v("必須上傳圖片檔")]):e._e(),t("img",{staticClass:"upload-img",attrs:{src:e.account.img,alt:""}})]),t("div",{staticClass:"login-update",on:{click:function(a){return e.updateUser()}}},[e._v("確認修改")])])])])},s=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"login-item-flex-icon"},[t("i",{staticClass:"fas fa-mobile-alt"})])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"login-item-flex-icon"},[t("i",{staticClass:"fas fa-file-signature"})])}],n=(t("7f7f"),{data:function(){return{file:"click here to choose image!",account:{img:"",phone:"",name:""}}},methods:{updateUser:function(){var e=this;this.$validator.validate().then(function(a){if(a){e.$bus.$emit("isLoading",!0);var t=new FormData,i=e.$refs["upload-region-file"].files[0];i&&t.append("userpic",i),t.append("phone",e.account.phone),t.append("name",e.account.name),e.$http.post("".concat("https://guarded-castle-26873.herokuapp.com","/users/update"),t,{headers:{"Content-type":"multipart/form-data"}}).then(function(a){a.data.success&&(e.$bus.$emit("refreshSignin"),e.$router.push("/")),e.$bus.$emit("isLoading",!1)})}})},fileHandler:function(e){var a=this;if(e.currentTarget.value){this.file=e.currentTarget.value;var t=new FileReader;t.readAsDataURL(e.currentTarget.files[0]),t.onload=function(e){a.account.img=e.currentTarget.result}}}},mounted:function(){var e=this;this.$http.get("".concat("https://guarded-castle-26873.herokuapp.com","/users/isSignin")).then(function(a){a.data.success&&(e.account=a.data)})}}),r=n,o=(t("089f"),t("2877")),c=Object(o["a"])(r,i,s,!1,null,"816e9b90",null);a["default"]=c.exports},"7f7f":function(e,a,t){var i=t("86cc").f,s=Function.prototype,n=/^\s*function ([^ (]*)/,r="name";r in s||t("9e1e")&&i(s,r,{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=dashboard.a1d475a5.js.map